!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=14)}([function(t,e,n){t.exports=n(4)},function(t,e){function n(t,e,n,r,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(a,i){var o=t.apply(e,r);function s(t){n(o,a,i,s,c,"next",t)}function c(t){n(o,a,i,s,c,"throw",t)}s(void 0)}))}}},function(t,e,n){var r=n(5),a=n(6),i=n(7);t.exports=function(t){return r(t)||a(t)||i()}},function(t,e,n){var r=n(8),a=n(9),i=n(10);t.exports=function(t,e){return r(t)||a(t,e)||i()}},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(t,e,n,r){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),o=new E(r||[]);return i._invoke=function(t,e,n){var r=l;return function(a,i){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===a)throw i;return q()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=L(o,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=u(t,e,n);if("normal"===c.type){if(r=n.done?p:d,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(t,n,o),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l="suspendedStart",d="suspendedYield",f="executing",p="completed",g={};function m(){}function h(){}function y(){}var v={};v[i]=function(){return this};var b=Object.getPrototypeOf,x=b&&b(b(j([])));x&&x!==n&&r.call(x,i)&&(v=x);var w=y.prototype=m.prototype=Object.create(v);function _(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function S(t){var e;this._invoke=function(n,a){function i(){return new Promise((function(e,i){!function e(n,a,i,o){var s=u(t[n],t,a);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,i,o)}),(function(t){e("throw",t,i,o)})):Promise.resolve(l).then((function(t){c.value=t,i(c)}),(function(t){return e("throw",t,i,o)}))}o(s.arg)}(n,a,e,i)}))}return e=e?e.then(i,i):i()}}function L(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function j(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:q}}function q(){return{value:e,done:!0}}return h.prototype=w.constructor=y,y.constructor=h,y[s]=h.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},_(S.prototype),S.prototype[o]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,r,a){var i=new S(c(e,n,r,a));return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},_(w),w[s]="Generator",w[i]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){var r=n(12);"string"==typeof r&&(r=[[t.i,r,""]]);var a={insert:"head",singleton:!1};n(13)(r,a);r.locals&&(t.exports=r.locals)},function(t,e,n){},function(t,e,n){"use strict";var r,a={},i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}();function s(t,e){for(var n=[],r={},a=0;a<t.length;a++){var i=t[a],o=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[o]?r[o].parts.push(s):n.push(r[o]={id:o,parts:[s]})}return n}function c(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=a[r.id],o=0;if(i){for(i.refs++;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(h(r.parts[o],e))}else{for(var s=[];o<r.parts.length;o++)s.push(h(r.parts[o],e));a[r.id]={id:r.id,refs:1,parts:s}}}}function u(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var r=n.nc;r&&(t.attributes.nonce=r)}if(Object.keys(t.attributes).forEach((function(n){e.setAttribute(n,t.attributes[n])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,d=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function f(t,e,n,r){var a=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=d(e,a);else{var i=document.createTextNode(a),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(i,o[e]):t.appendChild(i)}}function p(t,e,n){var r=n.css,a=n.media,i=n.sourceMap;if(a&&t.setAttribute("media",a),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var g=null,m=0;function h(t,e){var n,r,a;if(e.singleton){var i=m++;n=g||(g=u(e)),r=f.bind(null,n,i,!1),a=f.bind(null,n,i,!0)}else n=u(e),r=p.bind(null,n,e),a=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else a()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=s(t,e);return c(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var o=n[i],u=a[o.id];u&&(u.refs--,r.push(u))}t&&c(s(t,e),e);for(var l=0;l<r.length;l++){var d=r[l];if(0===d.refs){for(var f=0;f<d.parts.length;f++)d.parts[f]();delete a[d.id]}}}}},function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),c=n.n(s),u=[{tag:"div",classes:["loader","loading"],innerHtml:[{tag:"div",classes:["spinner"]}]}],l=[{tag:"header",classes:["header"],innerHtml:[{tag:"div",classes:["button-block"],innerHtml:[{tag:"div",classes:["btn","btn--small","refresh__btn"],innerHtml:[{tag:"img",classes:["refresh__img"],attributes:[["src","../assets/img/refresh.svg"]]}]},{tag:"select",classes:["btn","btn--med","lang__btn"],innerHtml:[{tag:"option",attributes:[["value","en"]],innerText:"EN"},{tag:"option",attributes:[["value","ru"]],innerText:"RU"},{tag:"option",attributes:[["value","be"]],innerText:"BE"}]},{tag:"div",classes:["units-container"],innerHtml:[{tag:"div",classes:["btn","btn--small","units__btn","farenheit__btn","btn--inactive"],attributes:[["data-unit","us"]],innerText:"°F"},{tag:"div",classes:["btn","btn--small","units__btn","celsius__btn","btn--inactive"],attributes:[["data-unit","si"]],innerText:"°C"}]}]},{tag:"form",classes:["search-form"],innerHtml:[{tag:"input",classes:["search-field"],attributes:[["type","text"],["placeholder","Search city"]]},{tag:"div",classes:["speech-input"],innerHtml:[{tag:"img",attributes:[["src","../assets/img/speech-btn.png"]]}]},{tag:"button",classes:["btn","btn--large","btn__submit"],attributes:[["type","submit"]],innerText:"search"}]}]}],d=[{tag:"div",classes:["weather-block"],innerHtml:[{tag:"div",classes:["weather__title"],innerHtml:[{tag:"h1",classes:["title__region"]},{tag:"div",classes:["title__date-container"],innerHtml:[{tag:"p",classes:["title__date"]},{tag:"p",classes:["title__time"]}]}]},{tag:"div",classes:["daily-weather-block"],innerHtml:[{tag:"div",classes:["temperature"],innerHtml:[{tag:"p",classes:["temterature__data"]},{tag:"p",classes:["temperature__unit"],innerText:"°"}]},{tag:"div",classes:["daily-data-block"],innerHtml:[{tag:"img",classes:["weather-icon"]},{tag:"div",classes:["daily-data"],innerHtml:[{tag:"p",classes:["condition"]},{tag:"p",innerHtml:[{tag:"span",classes:["feels-like-text"],innerText:"feels like: "},{tag:"span",classes:["feels-like-data"]}]},{tag:"p",innerHtml:[{tag:"span",classes:["wind-text"],innerText:"wind: "},{tag:"span",classes:["wind-data"]},{tag:"span",classes:["wind-units"],innerText:"m/s"}]},{tag:"p",innerHtml:[{tag:"span",classes:["humidity-text"],innerText:"humidity: "},{tag:"span",classes:["humidity-data"]}]}]}]}]},{tag:"div",classes:["long-time-forecast"]}]}],f=[{tag:"div",classes:["geolocation-block"],innerHtml:[{tag:"div",classes:["map"],attributes:[["id","map"]]},{tag:"div",classes:["coordinates"],innerHtml:[{tag:"p",innerHtml:[{tag:"span",classes:["latitude-text"],innerText:"Latitude: "},{tag:"span",classes:["latitude"]}]},{tag:"p",innerHtml:[{tag:"span",classes:["longitude-text"],innerText:"Longitude: "},{tag:"span",classes:["longitude"]}]}]}]}];function p(t,e){t.forEach((function(t){var n,r=document.createElement(t.tag);t.classes&&(n=r.classList).add.apply(n,c()(t.classes));t.attributes&&t.attributes.forEach((function(t){r.setAttribute(t[0],t[1])})),t.innerHtml&&p(t.innerHtml,r),t.innerText&&(r.innerText=t.innerText),e.append(r)}))}var g=n(3),m=n.n(g);function h(t){return.447*t}function y(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function v(t){var e=(new Date).getMonth(),n=t.textContent.split(":"),r=m()(n,1)[0],a="";return e<=10?a+="autumn":e<=7?a+="summer":e<=4?a+="spring":(e>=11||e<=1)&&(a+="winter"),(+r>23||+r<=6)&&(a+=",night"),a}function b(t){var e=t.indexOf(".");return"".concat(t.slice(0,e),"°").concat(t.slice(e+1,e+3),"'")}function x(t,e,n){return'<div class="forecast-card">\n    <h2 class="card__title">'.concat(t,'</h2>\n    <div class="card__body">\n      <p class="card__data">').concat(e,'</p>\n      <img class="card__icon" src="').concat(n,'">\n    </div>\n  </div>')}var w,_=[{class:"btn__submit",text:{en:"search",ru:"искать",be:"пошук"}},{class:"wind-text",text:{en:"wind: ",ru:"ветер: ",be:"вецер: "}},{class:"feels-like-text",text:{en:"feels like: ",ru:"ощущается: ",be:"адчувацца: "}},{class:"wind-units",text:{en:"m/s",ru:"м/с",be:"м/с"}},{class:"humidity-text",text:{en:"humidity: ",ru:"влажность: ",be:"вільготнасць: "}},{class:"latitude-text",text:{en:"Latitude: ",ru:"Широта: ",be:"Шырата: "}},{class:"longitude-text",text:{en:"Longitude: ",ru:"Долгота: ",be:"Даўгата: "}},{class:"search-field",text:{en:"Search city",ru:"Поиск по городу",be:"Пошук па горадзе"}}],S={"clear-day":"/assets/img/Sun.svg","clear-night":"/assets/img/Moon.svg",rain:"/assets/img/Cloud-Rain.svg",snow:"/assets/img/Cloud-Snow.svg",sleet:"/assets/img/Cloud-Hail.svg",wind:"/assets/img/Wind.svg",fog:"/assets/img/Cloud-Fog-Alt.svg",cloudy:"/assets/img/Cloud.svg","partly-cloudy-day":"/assets/img/Cloud-Sun.svg","partly-cloudy-night":"/assets/img/Cloud-Moon.svg"},L={en:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],ru:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],be:["нядзеля","панядзелак","аўторак","серада","чацвер","пятніца","субота"]},T={en:["january","february","march","april","may","june","july","august","september","october","november","december"],ru:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],be:["студзеня","лютага","сакавіка","красавіка","мая","чэрвеня","ліпеня","жніўня","верасня","кастрычніка","лістапада","снежня"]};(w=document.createElement("div")).classList.add("main-container"),p(u,document.body),p(l,document.body),p(d,w),p(f,w),document.body.append(w);var k=window.SpeechRecognition||window.webkitSpeechRecognition,E=".loader",j=".button-block",q=".refresh__img",C=".lang__btn",H="option",F=".units__btn",O=".search-field",P=".search-form",A=".btn__submit",I=".speech-input",M=".title__region",N=".title__date",D=".title__time",B=".temterature__data",R=".weather-icon",G=".condition",K=".feels-like-data",U=".feels-like-text",z=".wind-data",Y=".wind-text",J=".wind-units",W=".humidity-data",Z=".humidity-text",Q=".long-time-forecast",V=".map",X=".latitude",$=".latitude-text",tt=".longitude",et=".longitude-text",nt={spinner:document.querySelector(E),buttonBlock:document.querySelector(j),refreshImg:document.querySelector(q),langButton:document.querySelector(C),langOptions:document.querySelectorAll(H),unitsButtons:document.querySelectorAll(F),searchField:document.querySelector(O),searchForm:document.querySelector(P),submitButton:document.querySelector(A),speechBtn:document.querySelector(I),region:document.querySelector(M),date:document.querySelector(N),time:document.querySelector(D),temperature:document.querySelector(B),weatherIcon:document.querySelector(R),condition:document.querySelector(G),feelsLikeData:document.querySelector(K),feelsLikeText:document.querySelector(U),windData:document.querySelector(z),windText:document.querySelector(Y),windUnits:document.querySelector(J),humidityData:document.querySelector(W),humidityText:document.querySelector(Z),longTermForcast:document.querySelector(Q),map:document.querySelector(V),latitude:document.querySelector(X),latitudeText:document.querySelector($),longitude:document.querySelector(tt),longitudeText:document.querySelector(et),placeholder:document.querySelector(O,"::placeholder")},rt={unsplashKey:"da77f8e93ce7acc3573e17bbcf1419d4faf4ee916d5eaba2720f14d388d62bc9",darkskyKey:"7051a81a7c46a27c23a3f618342a8e28",opencageKey:"1bbe3cf30f934f0ca470af6f7daeccbd",location:{latitude:null,longitude:null,name:null},lang:localStorage.getItem("lang")||"en",units:localStorage.getItem("units")||"si",map:null,mapPin:null,timezone:null,translationNodes:[nt.submitButton,nt.feelsLikeText,nt.windText,nt.windUnits,nt.humidityText,nt.latitudeText,nt.longitudeText,nt.placeholder],speechRecognition:new k};function at(t){return it.apply(this,arguments)}function it(){return(it=o()(a.a.mark((function t(e){var n,r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://api.unsplash.com/photos/random?query=nature,".concat(e,"&client_id=").concat(rt.unsplashKey),t.next=3,fetch(n);case 3:return r=t.sent,t.next=6,r.json();case 6:i=t.sent,rt.imgUrl=i.urls.regular,document.body.style.backgroundImage="linear-gradient(180deg, rgba(8,15,26,0.59) 0%, rgba(17,17,46,0.46) 100%),url(".concat(rt.imgUrl,")");case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ot(t,e,n){return st.apply(this,arguments)}function st(){return(st=o()(a.a.mark((function t(e,n,r){var i,o,s,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return nt.spinner.classList.add("loading"),i="https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/".concat(rt.darkskyKey,"/").concat(e,",").concat(n,"?units=").concat(r,"&lang=").concat(rt.lang),t.next=4,fetch(i);case 4:return o=t.sent,t.next=7,o.json();case 7:s=t.sent,nt.weatherIcon.src=S[s.currently.icon],nt.temperature.innerText=s.currently.temperature.toFixed(),nt.feelsLikeData.innerText="".concat(s.currently.apparentTemperature.toFixed(),"°"),nt.condition.innerText=s.currently.summary,nt.windData.innerText="si"===rt.units?s.currently.windSpeed.toFixed():h(s.currently.windSpeed).toFixed(),nt.humidityData.innerText="".concat((100*s.currently.humidity).toFixed(),"%"),c=s.daily.data.slice(0,3),y(nt.longTermForcast),c.forEach((function(t,e){var n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()+e+1),a=((t.temperatureHigh+t.temperatureLow)/2).toFixed();nt.longTermForcast.insertAdjacentHTML("beforeend",x(L[rt.lang][r.getDay()],"".concat(a,"°"),S[t.icon]))})),nt.spinner.classList.remove("loading");case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ct(t){return ut.apply(this,arguments)}function ut(){return(ut=o()(a.a.mark((function t(e){var n,r,i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://api.opencagedata.com/geocode/v1/json?q=".concat(e,"&key=").concat(rt.opencageKey,"&language=").concat(rt.lang),t.next=3,fetch(n);case 3:return r=t.sent,t.next=6,r.json();case 6:i=t.sent,o=i.results.filter((function(t){return"city"===t.components._type||"state"===t.components._type})).sort((function(t,e){return t.confidence-e.confidence}))[0],rt.location.name=e,rt.location.latitude=o.geometry.lat.toString(),rt.location.longitude=o.geometry.lng.toString(),rt.timezone=o.annotations.timezone.name,rt.map.setCenter([+rt.location.latitude,+rt.location.longitude],9),rt.mapPin.geometry.setCoordinates([+rt.location.latitude,+rt.location.longitude]),ot(rt.location.latitude,rt.location.longitude,rt.units),nt.latitude.innerText=b(rt.location.latitude),nt.longitude.innerText=b(rt.location.longitude),nt.region.innerText="".concat(o.components.city||o.components.state,", ").concat(o.components.country);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function lt(t,e){return dt.apply(this,arguments)}function dt(){return(dt=o()(a.a.mark((function t(e,n){var r,i,o,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="https://api.opencagedata.com/geocode/v1/json?q=".concat(e,"%2C+").concat(n,"&key=").concat(rt.opencageKey,"&language=").concat(rt.lang),t.next=3,fetch(r);case 3:return i=t.sent,t.next=6,i.json();case 6:o=t.sent,s=o.results[0],nt.region.innerText="".concat(s.components.city||s.components.state,", ").concat(s.components.country),rt.location.name=s.components.city||s.components.state,at(v(nt.time));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ft(){return(ft=o()(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:navigator.geolocation.getCurrentPosition((function(t){var e=t.coords,n=e.latitude,r=e.longitude;lt(n,r),ot(n,r,rt.units),rt.location={latitude:n.toString(),longitude:r.toString()},nt.latitude.innerText=b(rt.location.latitude),nt.longitude.innerText=b(rt.location.longitude),rt.map&&rt.map.setCenter([+rt.location.latitude,+rt.location.longitude],9),rt.mapPin&&rt.mapPin.geometry.setCoordinates([+rt.location.latitude,+rt.location.longitude])}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function pt(t){var e=new Date,n="".concat(L[t][e.getDay()],", ").concat(T[t][e.getMonth()]," ").concat(e.getDate());nt.date.innerText=n}function gt(){rt.translationNodes.forEach((function(t){var e=_.findIndex((function(e){return t.classList.contains(e.class)}));-1!==e&&(t.hasAttribute("placeholder")?t.setAttribute("placeholder",_[e].text[rt.lang]):t.innerText=_[e].text[rt.lang])}))}function mt(){var t=new Date,e={hour:"2-digit",minute:"2-digit"};rt.timezone&&(e.timeZone=rt.timezone),nt.time.innerText=t.toLocaleString("ru",e),setTimeout(mt,1e3)}function ht(){var t=new ymaps.Map("map",{center:[+rt.location.latitude,+rt.location.longitude],zoom:9});rt.mapPin=new ymaps.Placemark(t.getCenter()),t.geoObjects.add(rt.mapPin),rt.map=t,rt.map.setCenter([+rt.location.latitude,+rt.location.longitude],9)}window.addEventListener("load",(function(){ymaps.ready(ht),pt(rt.lang),mt(),function(){ft.apply(this,arguments)}(),gt(),nt.langOptions.forEach((function(t){t.value===rt.lang&&t.setAttribute("selected",!0)})),nt.unitsButtons.forEach((function(t){t.dataset.unit===rt.units&&t.classList.remove("btn--inactive")}))})),nt.searchForm.addEventListener("submit",(function(t){t.preventDefault(),rt.location.name=nt.searchField.value,ct(nt.searchField.value),at(v(nt.time))})),nt.buttonBlock.addEventListener("click",(function(t){if((t.target.classList.contains("refresh__btn")||t.target.parentNode.classList.contains("refresh__btn"))&&(at(v(nt.time)),nt.refreshImg.classList.add("animation-rotate")),t.target.classList.contains("units__btn")){if(!t.target.classList.contains("btn--inactive"))return;nt.unitsButtons.forEach((function(t){return t.classList.add("btn--inactive")})),t.target.classList.remove("btn--inactive"),rt.units=t.target.dataset.unit,localStorage.setItem("units",t.target.dataset.unit),ot(rt.location.latitude,rt.location.longitude,rt.units)}if(t.target.classList.contains("lang__btn")){if(t.target.value===rt.lang)return;rt.lang=t.target.value,localStorage.setItem("lang",t.target.value),pt(rt.lang),gt(),ot(rt.location.latitude,rt.location.longitude,rt.units),lt(rt.location.latitude,rt.location.longitude)}})),nt.refreshImg.addEventListener("animationend",(function(){nt.refreshImg.classList.remove("animation-rotate")})),nt.speechBtn.addEventListener("click",(function(){nt.speechBtn.classList.add("animation-pulse"),rt.speechRecognition.lang=rt.lang,rt.speechRecognition.start()})),rt.speechRecognition.addEventListener("end",(function(){nt.speechBtn.classList.remove("animation-pulse")})),rt.speechRecognition.addEventListener("result",(function(t){var e=t.result[0][0].transcript;nt.searchField.focus(),nt.searchField.value=e,ct(nt.searchField.value),at(v(nt.time))}));n(11)}]);