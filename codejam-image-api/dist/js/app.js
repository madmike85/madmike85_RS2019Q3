!function(t){var e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r(r.s=10)}([function(t,e,r){t.exports=r(3)},function(t,e,r){var o=r(4),n=r(5),a=r(6);t.exports=function(t){return o(t)||n(t)||a()}},function(t,e){function r(t,e,r,o,n,a,i){try{var c=t[a](i),l=c.value}catch(t){return void r(t)}c.done?e(l):Promise.resolve(l).then(o,n)}t.exports=function(t){return function(){var e=this,o=arguments;return new Promise((function(n,a){var i=t.apply(e,o);function c(t){r(i,n,a,c,l,"next",t)}function l(t){r(i,n,a,c,l,"throw",t)}c(void 0)}))}}},function(t,e,r){var o=function(t){"use strict";var e,r=Object.prototype,o=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function l(t,e,r,o){var n=e&&e.prototype instanceof v?e:v,a=Object.create(n.prototype),i=new k(o||[]);return a._invoke=function(t,e,r){var o=s;return function(n,a){if(o===d)throw new Error("Generator is already running");if(o===h){if("throw"===n)throw a;return _()}for(r.method=n,r.arg=a;;){var i=r.delegate;if(i){var c=C(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===s)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=u(t,e,r);if("normal"===l.type){if(o=r.done?h:f,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var s="suspendedStart",f="suspendedYield",d="executing",h="completed",p={};function v(){}function g(){}function y(){}var m={};m[a]=function(){return this};var w=Object.getPrototypeOf,b=w&&w(w(j([])));b&&b!==r&&o.call(b,a)&&(m=b);var L=y.prototype=v.prototype=Object.create(m);function S(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function x(t){var e;this._invoke=function(r,n){function a(){return new Promise((function(e,a){!function e(r,n,a,i){var c=u(t[r],t,n);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==typeof s&&o.call(s,"__await")?Promise.resolve(s.__await).then((function(t){e("next",t,a,i)}),(function(t){e("throw",t,a,i)})):Promise.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return e("throw",t,a,i)}))}i(c.arg)}(r,n,e,a)}))}return e=e?e.then(a,a):a()}}function C(t,r){var o=t.iterator[r.method];if(o===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method))return p;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=u(o,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,p;var a=n.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,p):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}return{next:_}}function _(){return{value:e,done:!0}}return g.prototype=L.constructor=y,y.constructor=g,y[c]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(L),t},t.awrap=function(t){return{__await:t}},S(x.prototype),x.prototype[i]=function(){return this},t.AsyncIterator=x,t.async=function(e,r,o,n){var a=new x(l(e,r,o,n));return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(L),L[c]="Generator",L[a]=function(){return this},L.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var o=e.pop();if(o in t)return r.value=o,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return c.type="throw",c.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var n=o.arg;I(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:j(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=o}catch(t){Function("r","regeneratorRuntime = r")(o)}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,r){var o=r(8);"string"==typeof o&&(o=[[t.i,o,""]]);var n={insert:"head",singleton:!1};r(9)(o,n);o.locals&&(t.exports=o.locals)},function(t,e,r){},function(t,e,r){"use strict";var o,n={},a=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}();function c(t,e){for(var r=[],o={},n=0;n<t.length;n++){var a=t[n],i=e.base?a[0]+e.base:a[0],c={css:a[1],media:a[2],sourceMap:a[3]};o[i]?o[i].parts.push(c):r.push(o[i]={id:i,parts:[c]})}return r}function l(t,e){for(var r=0;r<t.length;r++){var o=t[r],a=n[o.id],i=0;if(a){for(a.refs++;i<a.parts.length;i++)a.parts[i](o.parts[i]);for(;i<o.parts.length;i++)a.parts.push(g(o.parts[i],e))}else{for(var c=[];i<o.parts.length;i++)c.push(g(o.parts[i],e));n[o.id]={id:o.id,refs:1,parts:c}}}}function u(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var o=r.nc;o&&(t.attributes.nonce=o)}if(Object.keys(t.attributes).forEach((function(r){e.setAttribute(r,t.attributes[r])})),"function"==typeof t.insert)t.insert(e);else{var n=i(t.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(e)}return e}var s,f=(s=[],function(t,e){return s[t]=e,s.filter(Boolean).join("\n")});function d(t,e,r,o){var n=r?"":o.css;if(t.styleSheet)t.styleSheet.cssText=f(e,n);else{var a=document.createTextNode(n),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}function h(t,e,r){var o=r.css,n=r.media,a=r.sourceMap;if(n&&t.setAttribute("media",n),a&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var p=null,v=0;function g(t,e){var r,o,n;if(e.singleton){var a=v++;r=p||(p=u(e)),o=d.bind(null,r,a,!1),n=d.bind(null,r,a,!0)}else r=u(e),o=h.bind(null,r,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a());var r=c(t,e);return l(r,e),function(t){for(var o=[],a=0;a<r.length;a++){var i=r[a],u=n[i.id];u&&(u.refs--,o.push(u))}t&&l(c(t,e),e);for(var s=0;s<o.length;s++){var f=o[s];if(0===f.refs){for(var d=0;d<f.parts.length;d++)f.parts[d]();delete n[f.id]}}}}},function(t,e,r){"use strict";r.r(e);var o=r(0),n=r.n(o),a=r(1),i=r.n(a),c=r(2),l=r.n(c),u=document.querySelector("#canvas"),s=u.getContext("2d");s.imageSmoothingEnable=!1,s.mozImageSmoothingEnabled=!1,s.webkitImageSmoothingEnabled=!1;var f=document.querySelectorAll(".tool-item"),d=document.querySelector(".instruments"),h=document.querySelector(".current-color"),p=document.querySelector(".prev-color"),v=document.querySelector(".color-picker"),g=document.querySelector(".color-picker-wrapper"),y=document.querySelector(".colors"),m=document.querySelector(".clear-btn"),w=document.querySelector(".load-btn"),b=document.querySelector(".greyscale-btn"),L=document.querySelector(".search-field"),S=document.querySelector(".range-slider__range"),x=document.querySelector(".range-slider__label"),C=document.querySelector(".alert-popup"),E=512;u.width=128,u.height=128;var I,k="da77f8e93ce7acc3573e17bbcf1419d4faf4ee916d5eaba2720f14d388d62bc9",j=Math.ceil(E/64),_=Math.ceil(8),O={tool:"pencil",curColor:"#41f795",prevColor:"#ffa500",isMouseDown:!1,isImgLoaded:!1,lastX:0,lastY:0,sliderValue:0};function q(){s.clearRect(0,0,u.width,u.height),O.isImgLoaded=!1}function M(){var t=new Image;t.crossOrigin="Anonymous",t.src=I,t.onload=function(){var e,r,o=0,n=t.width,a=t.height,i=n,c=a;n>u.width&&(c=a*(o=u.width/n),i=n*o),a>u.height&&(c=a*(o=u.height/a),i=n*o),r=(u.height-c)/2,e=(u.width-i)/2,s.drawImage(t,e,r,i,c),O.isImgLoaded=!0}}function A(){return(A=l()(n.a.mark((function t(){var e,r,o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return q(),e="https://api.unsplash.com/photos/random?query=town,".concat(L.value,"&client_id=").concat(k),t.next=4,fetch(e);case 4:return r=t.sent,t.next=7,r.json();case 7:o=t.sent,I=o.urls.small,M(),O.isImgLoaded=!0;case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t,e,r){if(e<0||r<0||e>=t.width||r>=t.height)return[-1,-1,-1,-1];var o=4*(r*t.width+e);return t.data.slice(o,o+4)}function P(t,e,r,o){var n=4*(r*t.width+e);t.data[n+0]=o[0],t.data[n+1]=o[1],t.data[n+2]=o[2],t.data[n+3]=255}function D(t,e,r){var o=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return o*o+n*n+a*a+i*i<r}function N(t,e,r){return"#".concat(((1<<24)+(t<<16)+(e<<8)+r).toString(16).slice(1))}function Y(t){O.prevColor=O.curColor,O.curColor=t,g.style.backgroundColor=O.curColor,p.querySelector(".color-sample").style.backgroundColor=O.prevColor,h.setAttribute("data-color",O.curColor),p.setAttribute("data-color",O.prevColor)}function F(){switch(O.tool){case"pencil":u.style.cursor="url(assets/img/pencil.cur), default";break;case"bucket":u.style.cursor="url(assets/img/paint-bucket.cur), default";break;case"eyedropper":u.style.cursor="url(assets/img/eyedropper.cur), default"}}function G(){var t=[128,256,512];x.innerHTML=t[S.value];var e=S.value/S.max;x.style.left="".concat(490*e,"px"),u.width=t[S.value],u.height=t[S.value],O.sliderValue=S.value,I&&M()}function X(){S.value=localStorage.getItem("slierValue"),G(),function(){var t=localStorage.getItem("canvas");if(t){var e=new Image;e.src=t,e.onload=function(){s.drawImage(e,0,0)}}}(),I=localStorage.getItem("imgUrl")||null,O.tool=localStorage.getItem("tool")||"pencil",O.curColor=localStorage.getItem("currentColor")||"#41f795",O.prevColor=localStorage.getItem("previousColor")||"#ffa500",O.isImgLoaded=localStorage.getItem("isImageLoaded"),g.style.backgroundColor=O.curColor,v.value=O.curColor,p.querySelector(".color-sample").style.backgroundColor=O.prevColor,h.setAttribute("data-color",O.curColor),p.setAttribute("data-color",O.prevColor),F(),f.forEach((function(t){t.classList.remove("active"),t.dataset.tool===O.tool&&t.classList.add("active")}))}v.onchange=function(){g.style.backgroundColor=v.value,O.prevColor=O.curColor,O.curColor=v.value,h.setAttribute("data-color",O.curColor),p.setAttribute("data-color",O.prevColor)},g.style.backgroundColor=v.value,d.addEventListener("click",(function(t){t.target.classList.contains("active")||!t.target.classList.contains("disabled")&&t.target.classList.contains("tool-item")&&(t.stopPropagation(),f.forEach((function(t){return t.classList.remove("active")})),t.target.classList.add("active"),O.tool=t.target.dataset.tool,F())})),y.addEventListener("click",(function(t){t.target.classList.contains("palette-item")&&Y(t.target.dataset.color)})),u.addEventListener("mousedown",(function(t){"pencil"===O.tool&&(O.isMouseDown=!0),t.preventDefault()}),!1),u.addEventListener("mousemove",(function(t){if("pencil"===O.tool){var e=[t.layerX,t.layerY];O.lastX=e[0],O.lastY=e[1],function(){if(O.isMouseDown){s.beginPath(),O.lastX>0&&O.lastY>0&&s.moveTo(O.lastX,O.lastY);var t=O.lastX/(E/u.width),e=O.lastY/(E/u.height),r=Math.ceil(t/j)*j-j,o=Math.ceil(e/_)*_-_;s.moveTo(r,o),s.fillStyle=O.curColor,s.lineHeight=0,s.fillRect(r,o,j,_)}}()}}),!1),u.addEventListener("mouseup",(function(t){"pencil"===O.tool&&(O.isMouseDown=!1),t.preventDefault()}),!1),u.addEventListener("mouseout",(function(){return O.isMouseDown=!1})),u.addEventListener("click",(function(t){if("bucket"===O.tool){var e=function(t){var e;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(t))return 3===(e=t.substring(1).split("")).length&&(e=[e[0],e[0],e[1],e[1],e[2],e[2]]),[(e="0x".concat(e.join("")))>>16&255,e>>8&255,255&e];throw new Error("Bad Hex")}(O.curColor),r=t.layerX/(E/u.width),o=t.layerY/(E/u.height);!function(t,e,r,o){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=t.getImageData(0,0,u.width,u.height),i=new Uint8Array(a.width,a.height),c=T(a,e,r);if(!D(c,o)){for(var l=n*n,s=[e,r];s.length>0;){r=s.pop();var f=T(a,e=s.pop(),r);!i[r*a.width+e]&&D(f,c,l)&&(P(a,e,r,o),i[r*a.width+e]=1,s.push(e+1,r),s.push(e-1,r),s.push(e,r+1),s.push(e,r-1))}t.putImageData(a,0,0)}}(s,r,o,e)}"eyedropper"===O.tool&&Y(N.apply(void 0,i()(s.getImageData(t.layerX,t.layerY,1,1).data)))})),m.addEventListener("click",(function(){q(),I=""})),w.addEventListener("click",(function(){return function(){return A.apply(this,arguments)}()})),b.addEventListener("click",(function(){return function(){if(O.isImgLoaded){for(var t=s.getImageData(0,0,u.width,u.height),e=t.data,r=0;r<e.length;r+=4){var o=(e[r]+e[r+1]+e[r+2])/3;e[r]=o,e[r+1]=o,e[r+2]=o}s.putImageData(t,0,0)}else C.classList.toggle("alert-popup--hidden"),setTimeout((function(){return C.classList.toggle("alert-popup--hidden")}),2e3)}()})),S.addEventListener("input",G,!1),window.addEventListener("keypress",(function(t){if(["KeyB","KeyP","KeyC"].includes(t.code)){switch(f.forEach((function(t){return t.classList.remove("active")})),t.code){case"KeyB":O.tool="bucket",document.querySelector('[data-tool="bucket"]').classList.add("active");break;case"KeyP":O.tool="pencil",document.querySelector('[data-tool="pencil"]').classList.add("active");break;case"KeyC":O.tool="eyedropper",document.querySelector('[data-tool="eyedropper"]').classList.add("active")}F()}})),window.addEventListener("DOMContentLoaded",(function(){X()})),window.addEventListener("beforeunload",(function(){localStorage.setItem("canvas",u.toDataURL()),localStorage.setItem("tool",O.tool),localStorage.setItem("currentColor",O.curColor),localStorage.setItem("previousColor",O.prevColor),localStorage.setItem("isImageLoaded",O.isImgLoaded),localStorage.setItem("imgUrl",I),localStorage.setItem("slierValue",O.sliderValue)}));r(7)}]);